@model PaginationViewModel

@if (Model.TotalPages > 1)
{
    <nav class="flex items-center justify-center space-x-1 mt-8" aria-label="Pagination" data-testid="pagination">
        <!-- Previous Button -->
        @if (Model.HasPreviousPage)
        {
            <a href="@Model.GetPageUrl(Model.CurrentPage - 1)" class="px-3 py-2 text-sm font-medium text-brand-950 bg-white border border-cream-300 rounded-lg hover:bg-cream-50 transition-colors" data-testid="pagination-previous">
                <svg class="h-4 w-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Previous
            </a>
        }
        else
        {
            <span class="px-3 py-2 text-sm font-medium text-cream-400 bg-cream-100 border border-cream-200 rounded-lg cursor-not-allowed" data-testid="pagination-previous-disabled">
                <svg class="h-4 w-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Previous
            </span>
        }

        <!-- Page Numbers -->
        @for (int i = 1; i <= Model.TotalPages; i++)
        {
            if (i == Model.CurrentPage)
            {
                <span class="px-4 py-2 text-sm font-bold text-white bg-brand-500 rounded-lg" data-testid="pagination-page-@i">@i</span>
            }
            else if (i == 1 || i == Model.TotalPages || (i >= Model.CurrentPage - 2 && i <= Model.CurrentPage + 2))
            {
                <a href="@Model.GetPageUrl(i)" class="px-4 py-2 text-sm font-medium text-brand-950 bg-white border border-cream-300 rounded-lg hover:bg-cream-50 transition-colors" data-testid="pagination-page-@i">@i</a>
            }
            else if (i == Model.CurrentPage - 3 || i == Model.CurrentPage + 3)
            {
                <span class="px-2 py-2 text-sm text-brand-400">...</span>
            }
        }

        <!-- Next Button -->
        @if (Model.HasNextPage)
        {
            <a href="@Model.GetPageUrl(Model.CurrentPage + 1)" class="px-3 py-2 text-sm font-medium text-brand-950 bg-white border border-cream-300 rounded-lg hover:bg-cream-50 transition-colors" data-testid="pagination-next">
                Next
                <svg class="h-4 w-4 inline ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
        }
        else
        {
            <span class="px-3 py-2 text-sm font-medium text-cream-400 bg-cream-100 border border-cream-200 rounded-lg cursor-not-allowed" data-testid="pagination-next-disabled">
                Next
                <svg class="h-4 w-4 inline ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </span>
        }
    </nav>
}
